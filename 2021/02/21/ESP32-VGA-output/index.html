<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="alternate" href="/atom.xml" title="moefh.github.io" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="shortcut icon" href="/favicon.png">
  <title>moefh.github.io</title>
</head>
<body>
  <div class="logo"></div>
  <div class="header">
    <div class="header-nav-left">
      <a href="/">Home</a>
      <a href="/archives">Archives</a>
      <a href="/about">About</a>
    </div>
    <div class="header-nav-right">
      <a href="/atom.xml"><span class="rss-icon"></span></a>
    </div>
    <div class="header-title"><a href="/">moefh.github.io</a></div>
    <div class="header-subtitle">The Magic Smoke Has Left the Building</div>
  </div>


<div class="content">

<div class="content-left">

<div class="post">
  <div class="post-title"><a href="/2021/02/21/ESP32-VGA-output">ESP32 VGA output</a></div>
  <div class="post-date">2021-02-21</div>
  <div class="post-content">
<p>
Some time ago I made a VGA connector with a simple DAC made of
resistors to use with old FPGA board, but since the board has very
little RAM I wasn't able to do anything <a href="https://github.com/moefh/fpga-vga-driver">too
interesting</a> (the DAC shown
there has only 1 bit per color channel, I later made an improved one
with 2 bits per channel).  But as it turns out, some crazy people made
the ESP32 output a VGA signal using I2S -- I just tested it and it
seems to work perfectly!
</p>

<p>
I used <a href="https://github.com/fdivitto/FabGL">FabGL</a> by Fabrizio Di
Vittorio, but there's also
<a href="https://github.com/bitluni/ESP32Lib">ESP32Lib</a> by bitluni which I'll
probably check out later.  Here's one of FabGL's examples in action
(pay no attention to the smudges on the monitor, it's very old):
</p>

<div class="image">
  <img width="3264" height="2448" src="/2021/02/21/ESP32-VGA-output/image3.jpg" alt="ESP32 outputting to an old CRT monitor" title="ESP32 outputting to an old CRT monitor">
  <div class="image-caption">ESP32 outputting to an old CRT monitor</div>
</div>

<p>
Here's a close-up of the ESP32 showing the connected pins.
</p>

<div class="image">
  <img width="3264" height="2448" src="/2021/02/21/ESP32-VGA-output/image7.jpg" alt="Showing the connected pins" title="Showing the connected pins">
  <div class="image-caption">Showing the connected pins</div>
</div>

<p>
I'm using the default FabGL pinout, which is:
</p>

<div class="table-wrapper"><div class="table-scroll">
<table>
<tr>
<th align="right">ESP32 pin</th><th align="left">Connection</th></tr>
<tr>
<td align="right">23</td><td align="left">H Sync</td></tr>
<tr>
<td align="right">15</td><td align="left">V Sync</td></tr>
<tr>
<td align="right">22</td><td align="left">Red (high bit)</td></tr>
<tr>
<td align="right">21</td><td align="left">Red (low bit)</td></tr>
<tr>
<td align="right">19</td><td align="left">Green (high bit)</td></tr>
<tr>
<td align="right">18</td><td align="left">Green (low bit)</td></tr>
<tr>
<td align="right">5</td><td align="left">Blue (high bit)</td></tr>
<tr>
<td align="right">4</td><td align="left">Blue (low bit)</td></tr>
</table></div></div>


<p>
And finally, here's my hacky VGA connector/DAC with 2 bits per color
channel giving a total of 64 colors:
</p>

<div class="image">
  <img width="3264" height="2448" src="/2021/02/21/ESP32-VGA-output/image6.jpg" alt="My homemade VGA connector/DAC" title="My homemade VGA connector/DAC">
  <div class="image-caption">My homemade VGA connector/DAC</div>
</div>

<p>
The other side of the board is kind of a mess (this was one of my
first soldering jobs), but it works well enough.  And, before you ask,
all of the jumpers are inserted all the way in, but some have longer
leads than others -- they're really crappy jumpers!
</p>

<p>
I might try to port <a href="https://github.com/moefh/loser-corps">Loser
Corps</a> to this thing. No idea
how well it will work over Wifi, the network code is <b>very</b> simplistic
and probably doesn't work well anywhere other than Ethernet. We'll
see.

</p>
  </div>
  <div class="post-tags">
    <a href="/tags/esp32">#esp32</a>
    <a href="/tags/vga">#vga</a>
  </div>
</div>

<div class="footer">
    <div class="post-links">
      <div class="nav-link nav-link-left">
        &#x2190; newer<br>
        <a href="/2021/02/28/Porting-Loser-Corps-to-the-ESP32">Porting Loser Corps to the ESP32</a>
      </div>

      <div class="nav-link nav-link-separator"></div>
      
      <div class="nav-link nav-link-right">
        older &#x2192;<br>
        <a href="/2021/02/15/STM32-with-pure-assembly">STM32 with pure assembly</a>
      </div>

    </div>

  <div class="copyright">Copyright (C) 2021 MoeFH</div>

</div>

</div>

<div class="content-right">
  <div class="tag-list">
    <div class="title">TAGS</div>
    <div class="tags">
      <div class="tag"><a href="/tags/arm">arm</a></div>
      <div class="tag"><a href="/tags/assembly">assembly</a></div>
      <div class="tag"><a href="/tags/esp-now">esp-now</a></div>
      <div class="tag"><a href="/tags/esp32">esp32</a></div>
      <div class="tag"><a href="/tags/esp32-loser">esp32-loser</a></div>
      <div class="tag"><a href="/tags/i2c">i2c</a></div>
      <div class="tag"><a href="/tags/joystick">joystick</a></div>
      <div class="tag"><a href="/tags/lm386">lm386</a></div>
      <div class="tag"><a href="/tags/loser-corps">loser-corps</a></div>
      <div class="tag"><a href="/tags/midi">midi</a></div>
      <div class="tag"><a href="/tags/mod">mod</a></div>
      <div class="tag"><a href="/tags/network">network</a></div>
      <div class="tag"><a href="/tags/nunchuk">nunchuk</a></div>
      <div class="tag"><a href="/tags/perfboard">perfboard</a></div>
      <div class="tag"><a href="/tags/pico">pico</a></div>
      <div class="tag"><a href="/tags/pico-loser">pico-loser</a></div>
      <div class="tag"><a href="/tags/raspberry-pi">raspberry-pi</a></div>
      <div class="tag"><a href="/tags/sound">sound</a></div>
      <div class="tag"><a href="/tags/stm32">stm32</a></div>
      <div class="tag"><a href="/tags/usb">usb</a></div>
      <div class="tag"><a href="/tags/vga">vga</a></div>
      <div class="tag"><a href="/tags/wii">wii</a></div>
      <div class="tag"><a href="/tags/wiimote">wiimote</a></div>
    </div>
  </div>

  <div class="month-list">
    <div class="title">ARCHIVES</div>
    <div class="months">
      <div class="month"><a href="/archives/2021/08">August 2021</a></div>
      <div class="month"><a href="/archives/2021/07">July 2021</a></div>
      <div class="month"><a href="/archives/2021/06">June 2021</a></div>
      <div class="month"><a href="/archives/2021/05">May 2021</a></div>
      <div class="month"><a href="/archives/2021/04">April 2021</a></div>
      <div class="month"><a href="/archives/2021/03">March 2021</a></div>
      <div class="month"><a href="/archives/2021/02">Ferbuary 2021</a></div>
    </div>
  </div>
</div>

</div>


</body>
</html>

